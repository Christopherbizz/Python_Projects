import os
import subprocess
import requests

def ping_host(host):
    """Ping a host and return True if it's reachable."""
    try:
        output = subprocess.check_output(["ping", "-c", "1", host])
        return True
    except subprocess.CalledProcessError:
        return False

def check_website_status(url):
    """Check the status of a website and return the HTTP status code."""
    try:
        response = requests.get(url)
        return response.status_code
    except requests.RequestException as e:
        print(f"Error checking {url}: {e}")
        return None

def get_public_ip():
    """Retrieve the public IP address of the machine."""
    try:
        response = requests.get("https://api.ipify.org?format=json")
        ip = response.json().get("ip")
        return ip
    except requests.RequestException as e:
        print(f"Error retrieving public IP: {e}")
        return None

def main():
    # List of hosts to ping
    hosts = ["8.8.8.8", "8.8.4.4", "www.google.com"]
    
    # Check if hosts are reachable
    for host in hosts:
        if ping_host(host):
            print(f"{host} is reachable")
        else:
            print(f"{host} is not reachable")

    # Check the status of a website
    website = "https://www.google.com"
    status_code = check_website_status(website)
    if status_code:
        print(f"The status code for {website} is {status_code}")

    # Get public IP address
    public_ip = get_public_ip()
    if public_ip:
        print(f"The public IP address is {public_ip}")

if __name__ == "__main__":
    main()
